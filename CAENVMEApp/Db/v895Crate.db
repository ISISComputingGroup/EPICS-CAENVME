## logial VME crate number (for user)
record(longin, "$(P)$(Q)CR$(CRATE):CRATE")
{
    field(DTYP, "asynInt32")
    field(INP, "@asyn($(PORT),0)CRATE")
	field(SCAN, "I/O Intr")
}

## physical board (usb to VME bridge) device number
record(longin, "$(P)$(Q)CR$(CRATE):BOARD_ID")
{
    field(DTYP, "asynInt32")
    field(INP, "@asyn($(PORT),0)BOARDID")
	field(SCAN, "I/O Intr")
}

record(calc, "$(P)$(Q)CR$(CRATE):CARDS")
{
	field(DESC, "Number of cards in this crate")
	field(A, "$(CARDS)")
	field(CALC, "A+1")
	field(PINI, "YES")
	field(ASG, "READONLY")
}

# not used by IOC. As far as we are aware is just set by
# python threshold script to indicate the table loaded that could then be used
# by e.g. a reload script, however script only seems to just set this each time and OPI
# does't display it, though there may be another script somewhere else that we
# are unaware of. 
record(waveform, "$(P)$(Q)CR$(CRATE):THRESHOLD_FILE")
{
	field(DESC, "Threshold file")
	field(FTVL, "CHAR")
	field(NELM, "256")
}
